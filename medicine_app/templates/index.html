<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>의약품 검색 시스템</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .search-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 20px;
        }
        .card-img-container {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .card-img-container img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
        }
        .header-title {
            font-weight: bold;
            color: #0d6efd;
        }
        .shape-selector {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .shape-item {
            text-align: center;
            cursor: pointer;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }
        .shape-item:hover {
            background-color: #f1f3f5;
        }
        .shape-item.active {
            background-color: #e2f2ff;
            border-color: #0d6efd;
        }
        .color-selector {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .color-item {
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 1px solid #dee2e6;
        }
        .color-item:hover {
            transform: scale(1.1);
        }
        .color-item.active {
            border: 2px solid #0d6efd;
        }
        .hidden-field {
            display: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">의약품 검색 시스템</a>
        </div>
    </nav>

    <div class="container">
        <div class="row mt-4">
            <div class="col-md-12">
                <h1 class="header-title">의약품 정보 입력</h1>
                <p class="text-muted">알약의 이름, 모양, 색상 등으로 검색하여 의약품 정보를 확인하세요.</p>
            </div>
        </div>

        <div class="search-container">
            <form action="/search" method="POST">
                <!-- 검색어 입력 필드 -->
                <div class="mb-4">
                    <label for="item_name" class="form-label">의약품 이름</label>
                    <input type="text" class="form-control" id="item_name" name="item_name" placeholder="의약품 이름을 입력하세요">
                </div>

                <!-- 모양 선택 -->
                <div class="mb-4">
                    <label class="form-label">모양</label>
                    <div class="shape-selector">
                        <div class="shape-item" data-shape="원형">
                            <img src="/static/img/shapes/round.png" alt="원형" class="img-fluid mb-2">
                            <div>원형</div>
                        </div>
                        <div class="shape-item" data-shape="타원형">
                            <img src="/static/img/shapes/oval.png" alt="타원형" class="img-fluid mb-2">
                            <div>타원형</div>
                        </div>
                        <div class="shape-item" data-shape="장방형">
                            <img src="/static/img/shapes/rectangle.png" alt="장방형" class="img-fluid mb-2">
                            <div>장방형</div>
                        </div>
                        <div class="shape-item" data-shape="반원형">
                            <img src="/static/img/shapes/semicircle.png" alt="반원형" class="img-fluid mb-2">
                            <div>반원형</div>
                        </div>
                        <div class="shape-item" data-shape="삼각형">
                            <img src="/static/img/shapes/triangle.png" alt="삼각형" class="img-fluid mb-2">
                            <div>삼각형</div>
                        </div>
                        <div class="shape-item" data-shape="사각형">
                            <img src="/static/img/shapes/square.png" alt="사각형" class="img-fluid mb-2">
                            <div>사각형</div>
                        </div>
                        <div class="shape-item" data-shape="마름모형">
                            <img src="/static/img/shapes/diamond.png" alt="마름모형" class="img-fluid mb-2">
                            <div>마름모형</div>
                        </div>
                        <div class="shape-item" data-shape="오각형">
                            <img src="/static/img/shapes/pentagon.png" alt="오각형" class="img-fluid mb-2">
                            <div>오각형</div>
                        </div>
                        <div class="shape-item" data-shape="육각형">
                            <img src="/static/img/shapes/hexagon.png" alt="육각형" class="img-fluid mb-2">
                            <div>육각형</div>
                        </div>
                        <div class="shape-item" data-shape="팔각형">
                            <img src="/static/img/shapes/octagon.png" alt="팔각형" class="img-fluid mb-2">
                            <div>팔각형</div>
                        </div>
                    </div>
                    <input type="hidden" id="drug_shape" name="drug_shape">
                </div>

                <!-- 색상 선택 -->
                <div class="mb-4">
                    <label class="form-label">색상</label>
                    <div class="color-selector">
                        <div class="color-item" style="background-color: #FFFFFF;" data-color="하양"></div>
                        <div class="color-item" style="background-color: #F9ED32;" data-color="노랑"></div>
                        <div class="color-item" style="background-color: #F7941E;" data-color="주황"></div>
                        <div class="color-item" style="background-color: #FF00FF;" data-color="분홍"></div>
                        <div class="color-item" style="background-color: #FF0000;" data-color="빨강"></div>
                        <div class="color-item" style="background-color: #A52A2A;" data-color="갈색"></div>
                        <div class="color-item" style="background-color: #39B54A;" data-color="연두"></div>
                        <div class="color-item" style="background-color: #00A651;" data-color="초록"></div>
                        <div class="color-item" style="background-color: #00AEEF;" data-color="청록"></div>
                        <div class="color-item" style="background-color: #0072BC;" data-color="파랑"></div>
                        <div class="color-item" style="background-color: #2E3192;" data-color="남색"></div>
                        <div class="color-item" style="background-color: #662D91;" data-color="자주"></div>
                        <div class="color-item" style="background-color: #92278F;" data-color="보라"></div>
                        <div class="color-item" style="background-color: #808080;" data-color="회색"></div>
                        <div class="color-item" style="background-color: #000000;" data-color="검정"></div>
                        <div class="color-item" style="background: transparent; background-image: linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc); background-size: 10px 10px; background-position: 0 0, 5px 5px;" data-color="투명"></div>
                    </div>
                    <input type="hidden" id="color_class1" name="color_class1">
                </div>

                <!-- 표시(각인) 입력 필드 -->
                <div class="mb-4">
                    <label for="print_front" class="form-label">표시(각인)</label>
                    <input type="text" class="form-control" id="print_front" name="print_front" placeholder="알약에 새겨진 문자나 숫자를 입력하세요">
                </div>

                <!-- 검색 버튼 -->
                <div class="text-center">
                    <button type="submit" class="btn btn-primary btn-lg px-4">검색</button>
                    <button type="reset" class="btn btn-outline-secondary btn-lg px-4 ms-2">초기화</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // 모양 선택 이벤트
        const shapeItems = document.querySelectorAll('.shape-item');
        const drugShapeInput = document.getElementById('drug_shape');

        shapeItems.forEach(item => {
            item.addEventListener('click', function() {
                // 이전 선택 제거
                shapeItems.forEach(el => el.classList.remove('active'));
                // 현재 선택 표시
                this.classList.add('active');
                // 숨겨진 입력 필드에 값 설정
                drugShapeInput.value = this.getAttribute('data-shape');
            });
        });

        // 색상 선택 이벤트
        const colorItems = document.querySelectorAll('.color-item');
        const colorInput = document.getElementById('color_class1');

        colorItems.forEach(item => {
            item.addEventListener('click', function() {
                // 이전 선택 제거
                colorItems.forEach(el => el.classList.remove('active'));
                // 현재 선택 표시
                this.classList.add('active');
                // 숨겨진 입력 필드에 값 설정
                colorInput.value = this.getAttribute('data-color');
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>